import{l as x,q as h,c as r,w as a,b as n,x as l,a as c,aj as V,y as N,F as w,r as m,o,e as p,t as d,f as b,A as k}from"./index-C5K6iwUw.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as D,a as S}from"./VList-BZrKnSHs.js";import{V as B,a as L}from"./index-CwxHsCSS.js";import{V as A}from"./VChip-Zje9ctLn.js";import{f as E}from"./formatDistanceToNow-aDLjEcHe.js";const F={key:0,class:"text-center py-12"},H={key:1,class:"text-center py-12 text-medium-emphasis"},I={class:"text-right"},T={class:"text-caption text-medium-emphasis"},z={__name:"HistoryView",setup(M){const i=m([]),u=m(!0),f=[{code:"de",nativeName:"Deutsch"},{code:"fr",nativeName:"Français"},{code:"es",nativeName:"Español"},{code:"en",nativeName:"English"}];x(async()=>{try{i.value=await h.get("/api/history")}finally{u.value=!1}});function _(t){return t>=80?"success":t>=55?"warning":"error"}function v(t){var e;return`${((e=f.find(y=>y.code===t.language))==null?void 0:e.nativeName)||t.language} · ${t.mode==="drill"?t.topic||"Drill":"Conversation"}`}function g(t){return E(new Date(t.completed_at*1e3),{addSuffix:!0})}return(t,s)=>(o(),r(B,{class:"pa-4 pb-24",style:{"max-width":"640px"}},{default:a(()=>[s[0]||(s[0]=n("div",{class:"text-h6 font-weight-bold mb-6",style:{color:"#22d3ee"}},"History",-1)),u.value?(o(),l("div",F,[c(V,{indeterminate:"",color:"primary"})])):i.value.length===0?(o(),l("div",H," No sessions yet. Start practicing! ")):(o(),r(D,{key:2,lines:"two",class:"rounded-lg","bg-color":"surface"},{default:a(()=>[(o(!0),l(w,null,N(i.value,e=>(o(),r(S,{key:e.id,title:v(e),subtitle:g(e),class:"mb-1"},{prepend:a(()=>[c(L,{color:e.mode==="drill"?"primary":"secondary",variant:"tonal",size:"40"},{default:a(()=>[c(k,null,{default:a(()=>[p(d(e.mode==="drill"?"mdi-repeat":"mdi-forum"),1)]),_:2},1024)]),_:2},1032,["color"])]),append:a(()=>[n("div",I,[e.avg_score?(o(),r(A,{key:0,color:_(e.avg_score),variant:"tonal",size:"x-small",class:"mb-1"},{default:a(()=>[p(d(Math.round(e.avg_score))+"% ",1)]),_:2},1032,["color"])):b("",!0),n("div",T,d(e.sentence_count)+" turns",1)])]),_:2},1032,["title","subtitle"]))),128))]),_:1}))]),_:1}))}},K=C(z,[["__scopeId","data-v-258f3266"]]);export{K as default};
