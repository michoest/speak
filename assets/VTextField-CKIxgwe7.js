import{u as te,a as le,V as D,b as T,d as ae,e as ne,f as ue,g as oe,h as ie}from"./autofocus-CNQ06SZ9.js";import{f as se}from"./forwardRefs-BOMNi2Up.js";import{i as re,C as ce,j as de,a9 as fe,a as b,a0 as y,B as x,r as C,p as ve,ad as E,b as n,F,af as me,k as xe,aR as Ve,ab as P,ah as ge}from"./index-CtLIZ_KS.js";import{I as M}from"./index-tKDXs71H.js";const he=["color","file","time","date","datetime-local","week","month"],be=ve({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...ue(),...E(ne(),["direction"]),...ae()},"VTextField"),ke=re()({name:"VTextField",directives:{vIntersect:M},inheritAttrs:!1,props:be(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,j){let{attrs:V,emit:k,slots:a}=j;const u=ce(e,"modelValue",void 0,t=>Object.is(t,-0)?"-0":t),{isFocused:i,focus:_,blur:O}=te(e),{onIntersect:z}=ie(e),U=x(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:(u.value??"").toString().length),$=x(()=>{if(V.maxlength)return V.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),I=x(()=>["plain","underlined"].includes(e.variant)),S=C(),A=C(),s=C(),f=le(e),q=x(()=>he.includes(e.type)||e.persistentPlaceholder||i.value||e.active);function p(){f.isSuppressing.value&&f.update(),i.value||_(),P(()=>{var t;s.value!==document.activeElement&&((t=s.value)==null||t.focus())})}function G(t){k("mousedown:control",t),t.target!==s.value&&(p(),t.preventDefault())}function H(t){k("click:control",t)}function J(t,l){t.stopPropagation(),p(),P(()=>{l(),ge(e["onClick:clear"],t)})}function K(t){var m;const l=t.target;if(!((m=e.modelModifiers)!=null&&m.trim&&["text","search","password","tel","url"].includes(e.type))){u.value=l.value;return}const r=l.value,v=l.selectionStart,g=l.selectionEnd;u.value=r,P(()=>{let c=0;r.trimStart().length===l.value.length&&(c=r.length-l.value.length),v!=null&&(l.selectionStart=v-c),g!=null&&(l.selectionEnd=g-c)})}return de(()=>{const t=!!(a.counter||e.counter!==!1&&e.counter!=null),l=!!(t||a.details),[r,v]=fe(V),{modelValue:g,...m}=D.filterProps(e),c=T.filterProps(e);return b(D,y({ref:S,modelValue:u.value,"onUpdate:modelValue":d=>u.value=d,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":I.value},e.class],style:e.style},r,m,{centerAffix:!I.value,focused:i.value}),{...a,default:d=>{let{id:o,isDisabled:w,isDirty:R,isReadonly:L,isValid:Q,hasDetails:W,reset:X}=d;return b(T,y({ref:A,onMousedown:G,onClick:H,"onClick:clear":h=>J(h,X),role:e.role},E(c,["onClick:clear"]),{id:o.value,labelId:`${o.value}-label`,active:q.value||R.value,dirty:R.value||e.dirty,disabled:w.value,focused:i.value,details:W.value,error:Q.value===!1}),{...a,default:h=>{let{props:{class:B,...Y},controlRef:Z}=h;const N=n("input",y({ref:ee=>s.value=Z.value=ee,value:u.value,onInput:K,autofocus:e.autofocus,readonly:L.value,disabled:w.value,name:f.fieldName.value,autocomplete:f.fieldAutocomplete.value,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:_,onBlur:O,"aria-labelledby":`${o.value}-label`},Y,v),null);return n(F,null,[e.prefix&&n("span",{class:"v-text-field__prefix"},[n("span",{class:"v-text-field__prefix__text"},[e.prefix])]),me(a.default?n("div",{class:xe(B),"data-no-activator":""},[a.default({id:o}),N]):Ve(N,{class:B}),[[M,z,null,{once:!0}]]),e.suffix&&n("span",{class:"v-text-field__suffix"},[n("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:l?d=>{var o;return n(F,null,[(o=a.details)==null?void 0:o.call(a,d),t&&n(F,null,[n("span",null,null),b(oe,{active:e.persistentCounter||i.value,value:U.value,max:$.value,disabled:e.disabled},a.counter)])])}:void 0})}),se({},S,A,s)}});export{ke as V,be as m};
